document.addEventListener("DOMContentLoaded",(()=>{console.log("Hack Club Events script loaded");const e=document.getElementById("hack-club-events");fetch("https://api.codetabs.com/v1/proxy?quest=https://events.hackclub.com/api/events/upcoming").then((e=>e.text())).then((t=>{let n;console.log("Raw response:",t);try{n=JSON.parse(t)}catch(e){throw console.error("JSON parse error:",t),e}const s=Date.now();n=n.filter((e=>{const t=e.end?new Date(e.end).getTime():null,n=new Date(e.start).getTime();return t&&t>s||!t&&n>s})),e.innerHTML=`\n        <h2>Upcoming Hack Club Events</h2>\n        <div class="events-list">\n          ${0===n.length?"<p>No upcoming events found.</p>":""}\n          ${n.map((e=>`\n            <div class="event">\n              <div class="event-title">${e.title}</div>\n              <div class="event-time">${new Date(e.start).toLocaleString()}</div>\n              <div class="event-desc">${e.desc}</div>\n            </div>\n          `)).join("")}\n          <br>\n      `})).catch((t=>{console.error("Fetch error:",t),e.innerHTML=`<p>Error fetching events: ${t.message}</p>`}))}));